extends layout

block content
  h1= title
  div(ng-controller="operator", ng-cloak)
    include partials/connectionStatus.jade

    #connect(ng-if="chatStatus.status=='idle' && !connectionStatus")
      input(type="text", ng-model="clientData.name", placeholder="Enter your name")
      br
      input(type="email", ng-model="clientData.email", placeholder="Enter your eamil")
      br
      input(type="button", value="access", ng-click="connect()")

    #connected(ng-if="chatStatus.status=='connected'")
      a(href="javascript:void(0);", ng-click="exit()") exit
      div
        p Users Connected to this App: 
        ul
          li(ng-repeat="user in status.usersConnected.users")
            a(href="javascript:void(0);", ng-click="openChat(user.id)") {{user.name}} - ({{user.email}})
      
      div#chatWindows
        div.chatWindow(ng-repeat="window in chatWindows", ng-include, src="window.src")

block angular-templates
  include templates/chatWindow.jade